# GAS家計簿アプリ

Google Apps Scriptで作成した家計簿アプリケーションです。
ネット上で無料で公開でき、複数ユーザーでデータを共有できます。

## 特徴

### ✅ **完全無料**
- Google Apps Scriptを使用（無料）
- Google Spreadsheetsでデータ管理（無料）
- 独自ドメイン不要

### ✅ **ネット公開対応**
- インターネット経由でアクセス可能
- スマホ・PCどちらでも利用可能
- リアルタイムでデータ同期

### ✅ **セキュリティ**
- パスワード認証機能
- 読み取り専用・編集可能の権限管理
- Googleのセキュリティを活用

### ✅ **データ管理**
- Google Spreadsheetsに自動保存
- データの永続化
- バックアップ・復元が簡単

## デプロイ手順

### 1. Google Apps Scriptプロジェクト作成

1. [Google Apps Script](https://script.google.com) にアクセス
2. 「新しいプロジェクト」をクリック
3. プロジェクト名を「家計簿アプリ」に変更

### 2. ファイルをアップロード

#### Code.gs
- デフォルトの `Code.gs` を削除
- 新しく `Code.gs` を作成
- `Code.gs` ファイルの内容をコピー&ペースト

#### index.html
- 「ファイル」→「新規」→「HTMLファイル」
- ファイル名を `index` にする
- `index.html` ファイルの内容をコピー&ペースト

#### styles.html
- 「ファイル」→「新規」→「HTMLファイル」
- ファイル名を `styles` にする
- `styles.html` ファイルの内容をコピー&ペースト

### 3. 権限設定

1. 「プロジェクトの設定」（歯車アイコン）をクリック
2. 「スクリプト プロパティ」で必要に応じて設定

### 4. デプロイ

1. 「デプロイ」→「新しいデプロイ」をクリック
2. 種類：「ウェブアプリ」を選択
3. 説明：「家計簿アプリ v1.0」
4. 実行者：「自分」
5. アクセスできるユーザー：「全員」
6. 「デプロイ」をクリック

### 5. 権限の承認

初回デプロイ時に権限の承認が必要です：

1. 「承認が必要です」→「権限を確認」
2. Googleアカウントを選択
3. 「詳細」→「家計簿アプリ（安全ではないページ）に移動」
4. 「許可」をクリック

### 6. 公開URLの取得

デプロイ完了後、**ウェブアプリのURL**が表示されます。
このURLをブックマークして使用してください。

## 使用方法

### ログイン
- **読み取り専用**: `0317`
- **編集可能**: `r246`

### 機能
- ✅ 支出データの追加・削除
- ✅ 支出一覧の表示
- ✅ 統計情報（総額・件数・平均）
- ✅ カテゴリ別集計
- ✅ レスポンシブデザイン

### データストレージ
- Google Spreadsheetsに自動保存
- スプレッドシート名：「家計簿データ」
- 自動的に作成されます（手動作成不要）

## データ構造

| 列 | 項目 | 説明 |
|---|---|---|
| A | ID | 自動採番 |
| B | 日付 | 支出日 |
| C | カテゴリ | 食費、交通費、娯楽等 |
| D | 商品名 | 購入した商品 |
| E | 店舗 | 購入店舗 |
| F | 金額 | 支出金額 |

## カスタマイズ

### パスワード変更
`Code.gs` の以下の部分を編集：

```javascript
// index.html内のJavaScript部分
if (password === '0317') {
    currentUser = { mode: 'readonly', name: '閲覧ユーザー' };
} else if (password === 'r246') {
    currentUser = { mode: 'edit', name: '編集ユーザー' };
}
```

### カテゴリ追加
`index.html` の以下の部分を編集：

```html
<select id="category" required>
    <option value="">選択してください</option>
    <option value="食費">食費</option>
    <option value="交通費">交通費</option>
    <!-- 新しいカテゴリを追加 -->
    <option value="新カテゴリ">新カテゴリ</option>
</select>
```

## セキュリティ注意事項

1. **パスワードの管理**
   - デフォルトパスワードの変更を推奨
   - 定期的なパスワード変更

2. **アクセス権限**
   - 必要に応じて「アクセスできるユーザー」を制限
   - 組織内限定も可能

3. **データバックアップ**
   - Google Spreadsheetsのダウンロード
   - 定期的なバックアップ推奨

## トラブルシューティング

### デプロイエラー
- 権限承認を完了させる
- ファイル名を正確に入力する
- JavaScriptエラーがないか確認

### データが表示されない
- ログインパスワードを確認
- ブラウザのキャッシュをクリア
- スプレッドシートの権限を確認

### スマホで動作しない
- ブラウザの最新版を使用
- キャッシュをクリア
- レスポンシブモードで確認

## 更新・メンテナンス

### アプリ更新
1. コードを修正
2. 「デプロイ」→「デプロイを管理」
3. 新しいバージョンとしてデプロイ

### データメンテナンス
- スプレッドシートから直接編集可能
- フィルタ・ソート機能の活用
- グラフ作成で可視化

---

**📞 サポート**: Google Apps Scriptの公式ドキュメントを参照してください。
**🌐 公開URL**: デプロイ後に取得したURLを使用